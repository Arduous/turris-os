From a2ad14fc5a4fe92caa0c22b9d1668bb65c7c67d4 Mon Sep 17 00:00:00 2001
From: Jan Pavlinec <jan.pavlinec@nic.cz>
Date: Fri, 8 Jun 2018 17:19:34 +0200
Subject: [PATCH] memcached: update to version 1.5.8 (security fix)

CVE-2018-1000127 - version prior to 1.4.37 contains an Integer Overflow vulnerability https://security-tracker.debian.org/tracker/CVE-2018-1000127
CVE-2017-9951 -version prior to 1.4.39 allows remote attackers to cause a denial of service (segmentation fault) via a request to add/set a key https://security-tracker.debian.org/tracker/CVE-2017-9951

Issue https://gitlab.labs.nic.cz/turris/openwrt/issues/194
---
 net/memcached/Makefile | 12 ++++++++----
 1 file changed, 8 insertions(+), 4 deletions(-)

diff --git a/net/memcached/Makefile b/net/memcached/Makefile
index 0bad81b..a363fd4 100644
--- a/net/memcached/Makefile
+++ b/net/memcached/Makefile
@@ -9,15 +9,19 @@
 include $(TOPDIR)/rules.mk
 
 PKG_NAME:=memcached
-PKG_VERSION:=1.4.26
+PKG_VERSION:=1.5.8
 PKG_RELEASE:=1
 
 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz
 PKG_SOURCE_URL:=http://memcached.org/files
-PKG_MD5SUM:=59b7bbfbc9cde5731bf4446e1e37b440
-PKG_INSTALL:=1
+PKG_MD5SUM:=7388c3989442a46d7e04e8ac2631464e9ce44d5114d79c41dd8780b4b186f6de
+
 PKG_MAINTAINER:=Thomas Heil <heil@terminal-consulting.de>
-PKG_LICENSE:=permissive free software license
+
+PKG_LICENSE:=BSD-3-Clause
+PKG_LICENSE_FILES:=COPYING
+
+PKG_INSTALL:=1
 
 include $(INCLUDE_DIR)/package.mk
 
-- 
2.7.4

